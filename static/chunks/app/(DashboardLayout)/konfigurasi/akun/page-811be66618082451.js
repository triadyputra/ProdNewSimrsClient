(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7],{2714:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>K});var i=a(95155),l=a(12115),n=a(45711),r=a(89762),s=a(98730),o=a(16632),d=a(26072),u=a(45406);let c=(0,l.createContext)({}),h=e=>{let{children:t}=e,{data:a,error:l,mutate:n}=(0,d.Ay)("/api/combo?type=GroupRole",u.n);return(0,i.jsx)(c.Provider,{value:{groups:null!=a?a:[],loading:!a&&!l,error:l,fetchGroups:()=>n()},children:t})};var x=a(54581),m=a(7068),p=a(78449),A=a(33989),j=a(17976),g=a(56033),f=a(90404),v=a(64263),b=a(99776),k=a(14426),y=a(41101),C=a(12537),S=a(36114),w=a(54492),P=a(99927),E=a(71977),z=a(68534),N=a(30676),I=a(77696),G=a(12654),T=a(36956),L=a(34864),D=a(14976),O=a(97953),U=a(75955),W=a(76871),H=a(72110),R=a(4472),B=a(16675),F=a(76380);let M=(0,U.Ay)(e=>(0,i.jsx)(p.A,{...e}))(e=>{let{theme:t}=e;return{"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:t.palette.text.secondary,opacity:"0.8"}}}),_=e=>{let{akunToEdit:t,onClose:a,onSubmit:n}=e,{groups:r,loading:s}=(0,l.useContext)(c),[o,d]=(0,l.useState)(!1),[u,h]=(0,l.useState)({Id:"",UserName:"",Email:"",FullName:"",Photo:"",PhoneNumber:"",Peran:"",Group:[],Active:!1});(0,l.useEffect)(()=>{t?h({...t}):h({Id:"",UserName:"",Email:"",FullName:"",Photo:"",PhoneNumber:"",Peran:"",Group:[],Active:!1})},[t]);let m=async e=>{e.preventDefault();try{d(!0),await n(u),a()}finally{d(!1)}};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(S.A,{open:!!t,onClose:a,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(w.A,{id:"alert-dialog-title",variant:"h5",children:u.Id?"Edit Akun":"Tambah Akun Baru"}),(0,i.jsxs)(P.A,{children:[(0,i.jsx)(W.A,{id:"alert-dialog-description",children:u.Id?'Silakan ubah data akun sesuai kebutuhan, kemudian klik tombol "Simpan".':'Silakan isi semua kolom untuk menambahkan akun baru ke aplikasi Anda, kemudian klik tombol "Simpan".'}),(0,i.jsx)(x.default,{mt:3,children:(0,i.jsx)("form",{onSubmit:m,children:(0,i.jsxs)(H.default,{spacing:3,container:!0,children:[(0,i.jsxs)(H.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(R.A,{children:"Nama Lengkap"}),(0,i.jsx)(p.A,{id:"FullName",size:"small",variant:"outlined",fullWidth:!0,value:u.FullName||"",onChange:e=>h({...u,FullName:e.target.value})})]}),(0,i.jsxs)(H.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(R.A,{children:"Username"}),(0,i.jsx)(p.A,{id:"UserName",size:"small",variant:"outlined",fullWidth:!0,value:u.UserName||"",onChange:e=>h({...u,UserName:e.target.value})})]}),(0,i.jsxs)(H.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(R.A,{children:"Email"}),(0,i.jsx)(p.A,{id:"Email",size:"small",variant:"outlined",fullWidth:!0,value:u.Email||"",onChange:e=>h({...u,Email:e.target.value})})]}),(0,i.jsxs)(H.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(R.A,{children:"PhoneNumber"}),(0,i.jsx)(p.A,{id:"PhoneNumber",size:"small",variant:"outlined",fullWidth:!0,value:u.PhoneNumber||"",onChange:e=>h({...u,PhoneNumber:e.target.value})})]}),(0,i.jsxs)(H.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(R.A,{children:"Peran"}),(0,i.jsx)(p.A,{id:"Peran",size:"small",variant:"outlined",fullWidth:!0,value:u.Peran||"",onChange:e=>h({...u,Peran:e.target.value})})]}),(0,i.jsxs)(H.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(R.A,{children:"Group"}),(0,i.jsx)(O.A,{multiple:!0,disablePortal:!0,id:"Group",size:"small",options:r||[],fullWidth:!0,loading:s,getOptionLabel:e=>e.title,isOptionEqualToValue:(e,t)=>e.value===t.value,value:(r||[]).filter(e=>{var t;return(null!=(t=u.Group)?t:[]).includes(e.value)}),onChange:(e,t)=>{h({...u,Group:t.map(e=>e.value)})},renderInput:e=>(0,i.jsx)(M,{...e,placeholder:"Pilih Group","aria-label":"Pilih Group"})})]}),(0,i.jsxs)(H.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(R.A,{children:"Active"}),(0,i.jsxs)(B.A,{id:"Active",size:"small",fullWidth:!0,value:u.Active?"true":"false",onChange:e=>h({...u,Active:"true"===e.target.value}),children:[(0,i.jsx)(F.A,{value:"",children:"Pilih salah satu"}),(0,i.jsx)(F.A,{value:"true",children:"Aktif"}),(0,i.jsx)(F.A,{value:"false",children:"Non Aktif"})]})]}),(0,i.jsx)(H.default,{size:{xs:12,lg:12},children:(0,i.jsxs)(x.default,{display:"flex",justifyContent:"flex-end",children:[(0,i.jsx)(z.default,{sx:{mr:1},variant:"contained",color:"error",onClick:a,disabled:o,children:"Batal"}),(0,i.jsx)(z.default,{variant:"contained",color:"primary",type:"submit",disabled:o||!u.FullName||!u.UserName||!u.Email,children:o?(0,i.jsx)(k.default,{size:20,color:"inherit"}):"Simpan"})]})})]})})})]})]})})},J="/api/konfigurasi/akun",V=()=>{var e,t;let[a,n]=(0,l.useState)(""),[r,s]=(0,l.useState)(1),[o,c]=(0,l.useState)(10),[h,O]=(0,l.useState)([]),[U,W]=(0,l.useState)(!1),[H,R]=(0,l.useState)(!1),[B,F]=(0,l.useState)(null),{showSnackbar:M}=(0,D.d)(),{data:V,error:q,mutate:K,isLoading:X}=(0,d.Ay)("".concat(J,"?filter=").concat(encodeURIComponent(a),"&page=").concat(r,"&pageSize=").concat(o),u.n),Y=null!=(e=null==V?void 0:V.Data)?e:[],Q=null!=(t=null==V?void 0:V.TotalCount)?t:0,Z=X&&!V;(0,l.useEffect)(()=>{0!==Y.length&&W(h.length===Y.length)},[h,Y]);let $=e=>{O(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},ee=async()=>{try{for(let e of h){let t=await fetch("".concat(J,"/").concat(e),{method:"DELETE",credentials:"include"});if(!t.ok){let e=await t.json();throw Error((null==e?void 0:e.message)||"Gagal menghapus akun")}}M("Akun berhasil dihapus","success"),O([]),W(!1),R(!1),K()}catch(e){M(e.message||"Gagal menghapus akun","error")}},et=async e=>{try{let t=await fetch(J,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),a=await t.json();if(!t.ok)throw Error((null==a?void 0:a.message)||"Gagal menambahkan akun");await K(),setTimeout(()=>{M("Akun berhasil ditambahkan","success")},0)}catch(e){M(e.message||"Gagal menambahkan akun","error")}},ea=async e=>{try{let t=await fetch("".concat(J,"/").concat(e.Id),{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),a=await t.json();if(!t.ok)throw Error((null==a?void 0:a.message)||"Gagal memperbarui akun");setTimeout(()=>{M("Akun berhasil diperbarui","success")},0)}catch(e){M(e.message||"Gagal memperbarui akun","error")}};return(0,i.jsxs)(x.default,{children:[(0,i.jsxs)(m.default,{direction:{xs:"column",sm:"row"},spacing:2,mb:3,justifyContent:"space-between",children:[(0,i.jsx)(p.A,{placeholder:"Search akun",size:"small",value:a,onChange:e=>{n(e.target.value),s(1)},InputProps:{endAdornment:(0,i.jsx)(A.A,{position:"end",children:(0,i.jsx)(N.A,{size:16})})}}),(0,i.jsxs)(m.default,{direction:"row",spacing:1,children:[h.length>0&&(0,i.jsx)(L.A,{access:{subject:"Akun",action:"DeleteAkun"},color:"error",variant:"outlined",onClick:()=>R(!0),children:"Hapus Yang Dipilih"}),B&&(0,i.jsx)(_,{akunToEdit:B,onClose:()=>F(null),onSubmit:async e=>{e.Id?await ea(e):await et(e),K()}}),(0,i.jsx)(L.A,{access:{subject:"Akun",action:"PostAkun"},color:"primary",variant:"contained",onClick:()=>F({}),children:"Tambah Akun"})]})]}),(0,i.jsx)(x.default,{sx:{overflowX:"auto"},children:(0,i.jsxs)(j.A,{size:"small",children:[(0,i.jsx)(g.A,{children:(0,i.jsxs)(f.A,{children:[(0,i.jsx)(v.A,{padding:"checkbox",children:(0,i.jsx)(T.A,{checked:U,onChange:()=>{let e=!U;W(e),O(e?Y.map(e=>e.Id):[])}})}),(0,i.jsx)(v.A,{children:"Nama Lengkap"}),(0,i.jsx)(v.A,{children:"Username"}),(0,i.jsx)(v.A,{children:"Group"}),(0,i.jsx)(v.A,{children:"Email"}),(0,i.jsx)(v.A,{children:"Status"}),(0,i.jsx)(v.A,{align:"right",children:"Actions"})]})}),(0,i.jsx)(b.A,{children:Z?(0,i.jsx)(f.A,{children:(0,i.jsx)(v.A,{colSpan:7,align:"center",children:(0,i.jsx)(k.default,{size:24})})}):0===Y.length?(0,i.jsx)(f.A,{children:(0,i.jsx)(v.A,{colSpan:7,align:"center",children:"No data found"})}):Y.map(e=>{var t;return(0,i.jsxs)(f.A,{children:[(0,i.jsx)(v.A,{padding:"checkbox",children:(0,i.jsx)(T.A,{checked:h.includes(e.Id),onChange:()=>$(e.Id)})}),(0,i.jsx)(v.A,{children:e.FullName}),(0,i.jsx)(v.A,{children:e.UserName}),(0,i.jsx)(v.A,{children:null==(t=e.Group)?void 0:t.map((e,t)=>(0,i.jsx)(y.A,{label:e,size:"small",sx:{mr:.5}},t))}),(0,i.jsx)(v.A,{children:e.Email}),(0,i.jsx)(v.A,{children:(0,i.jsx)(y.A,{label:e.Active?"Aktif":"Non Aktif",color:e.Active?"success":"warning",size:"small"})}),(0,i.jsxs)(v.A,{align:"right",children:[(0,i.jsx)(L.A,{access:{subject:"Akun",action:"PutAkun"},color:"success",type:"icon",onClick:()=>F(e),children:(0,i.jsx)(I.A,{width:18})}),(0,i.jsx)(L.A,{access:{subject:"Akun",action:"DeleteAkun"},color:"error",type:"icon",onClick:()=>{O([e.Id]),R(!0)},children:(0,i.jsx)(G.A,{width:18})})]})]},e.Id)})})]})}),(0,i.jsx)(C.A,{component:"div",count:Q,page:r-1,onPageChange:(e,t)=>s(t+1),rowsPerPage:o,onRowsPerPageChange:e=>{c(parseInt(e.target.value,10)),s(1)},rowsPerPageOptions:[5,10,25],size:"small"}),(0,i.jsxs)(S.A,{open:H,onClose:()=>R(!1),children:[(0,i.jsx)(w.A,{children:"Konfirmasi Hapus"}),(0,i.jsx)(P.A,{children:"Apakah Anda yakin ingin menghapus data yang dipilih?"}),(0,i.jsxs)(E.A,{children:[(0,i.jsx)(z.default,{onClick:()=>R(!1),children:"Batal"}),(0,i.jsx)(z.default,{color:"error",onClick:ee,children:"Hapus"})]})]})]})},q=[{to:"/",title:"Home"},{title:"Daftar Akun"}],K=()=>(0,i.jsx)(h,{children:(0,i.jsxs)(r.A,{title:"Daftar Akun",description:"this is Invoice List",children:[(0,i.jsx)(n.A,{title:"Daftar Akun",items:q}),(0,i.jsx)(s.A,{children:(0,i.jsx)(o.A,{children:(0,i.jsx)(V,{})})})]})})},5883:(e,t,a)=>{Promise.resolve().then(a.bind(a,2714))},12207:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});let i={activeDir:"ltr",activeMode:"light",activeTheme:"BLUE_THEME",activeLayout:"vertical",isLayout:"full",isSidebarHover:!1,isCollapse:"full-sidebar",isLanguage:"en",isCardShadow:!0,isMobileSidebar:!1,isHorizontal:!1,isBorderRadius:7,sidebarWidth:270,miniSidebarWidth:87,topbarHeight:70}},14976:(e,t,a)=>{"use strict";a.d(t,{SnackbarProvider:()=>o,d:()=>d});var i=a(95155),l=a(12115),n=a(35726),r=a(9665);let s=(0,l.createContext)(null),o=e=>{let{children:t}=e,[a,o]=(0,l.useState)(!1),[d,u]=(0,l.useState)(""),[c,h]=(0,l.useState)("success");return(0,i.jsxs)(s.Provider,{value:{showSnackbar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";u(e),h(t),o(!0)}},children:[t,(0,i.jsx)(n.A,{open:a,autoHideDuration:5e3,onClose:()=>o(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,i.jsx)(r.A,{onClose:()=>o(!1),severity:c,variant:"filled",sx:{width:"100%"},children:d})})]})},d=()=>{let e=(0,l.useContext)(s);if(!e)throw Error("useSnackbar harus dipakai di dalam SnackbarProvider");return e}},19849:(e,t,a)=>{"use strict";a.d(t,{CustomizerContextProvider:()=>s,z:()=>r});var i=a(95155),l=a(12115),n=a(12207);let r=(0,l.createContext)(void 0),s=e=>{let{children:t}=e,[a,s]=(0,l.useState)(n.A.activeDir),[o,d]=(0,l.useState)(n.A.activeMode),[u,c]=(0,l.useState)(n.A.activeTheme),[h,x]=(0,l.useState)(n.A.activeLayout),[m,p]=(0,l.useState)(n.A.isCardShadow),[A,j]=(0,l.useState)(n.A.isLayout),[g,f]=(0,l.useState)(n.A.isBorderRadius),[v,b]=(0,l.useState)(n.A.isCollapse),[k,y]=(0,l.useState)(n.A.isLanguage),[C,S]=(0,l.useState)(!1),[w,P]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{document.documentElement.setAttribute("class",o),document.documentElement.setAttribute("dir",a),document.documentElement.setAttribute("data-color-theme",u),document.documentElement.setAttribute("data-layout",h),document.documentElement.setAttribute("data-boxed-layout",A),document.documentElement.setAttribute("data-sidebar-type",v)},[o,a,u,h,A,v]),(0,i.jsx)(r.Provider,{value:{activeDir:a,setActiveDir:s,activeMode:o,setActiveMode:d,activeTheme:u,setActiveTheme:c,activeLayout:h,setActiveLayout:x,isCardShadow:m,setIsCardShadow:p,isLayout:A,setIsLayout:j,isBorderRadius:g,setIsBorderRadius:f,isCollapse:v,setIsCollapse:b,isLanguage:k,setIsLanguage:y,isSidebarHover:C,setIsSidebarHover:S,isMobileSidebar:w,setIsMobileSidebar:P},children:t})}},34864:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var i=a(95155),l=a(12115),n=a(3127),r=a(68534),s=a(94057);let o=e=>{let{access:t,onClick:a,children:o,color:d="inherit",size:u="medium",variant:c="contained",type:h="button"}=e,{acces:x}=(0,s.A)(),m=(0,l.useMemo)(()=>!!x&&0!==x.length&&x.some(e=>e.subject===t.subject&&e.action===t.action),[x,t.subject,t.action]);return"icon"===h?(0,i.jsx)(n.A,{onClick:a,disabled:!m,color:d,size:u,children:o}):(0,i.jsx)(r.default,{onClick:a,disabled:!m,color:d,size:u,variant:c,children:o})}},36956:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var i=a(95155),l=a(12115),n=a(75955),r=a(33613);let s=(0,n.Ay)("span")(e=>{let{theme:t}=e;return{borderRadius:3,width:19,height:19,marginLeft:"4px",boxShadow:"dark"===t.palette.mode?"0 0 0 1px ".concat(t.palette.grey[200]):"inset 0 0 0 1px ".concat(t.palette.grey[300]),backgroundColor:"transparent",".Mui-focusVisible &":{outline:"dark"===t.palette.mode?"0px auto ".concat(t.palette.grey[200]):"0px auto  ".concat(t.palette.grey[300]),outlineOffset:2},"input:hover ~ &":{backgroundColor:(t.palette.mode,t.palette.primary)},"input:disabled ~ &":{boxShadow:"none",background:t.palette.grey[100]}}}),o=(0,n.Ay)(s)({boxShadow:"none",width:19,height:19,"&:before":{display:"block",width:19,height:19,backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\")",content:'""'}}),d=l.forwardRef((e,t)=>(0,i.jsx)(r.A,{disableRipple:!0,color:e.color||"default",checkedIcon:(0,i.jsx)(o,{sx:{backgroundColor:e.color?"".concat(e.color,".main"):"primary.main"}}),icon:(0,i.jsx)(s,{}),inputProps:{"aria-label":"Checkbox demo"},ref:t,...e}));d.displayName="CustomCheckbox";let u=d},45406:(e,t,a)=>{"use strict";a.d(t,{n:()=>i});let i=async e=>{let t=await fetch(e,{credentials:"include"});if(401===t.status){window.location.href="/auth/auth1/login";return}if(403===t.status){window.location.href="/forbidden";return}let a=await t.json();if(!t.ok)throw Error((null==a?void 0:a.message)||"Terjadi kesalahan");return a}},45711:(e,t,a)=>{"use strict";a.d(t,{A:()=>h});var i=a(95155);a(12115);var l=a(72110),n=a(700),r=a(10431),s=a(54581),o=a(6874),d=a.n(o),u=a(76372),c=a(66766);let h=e=>{let{subtitle:t,items:a,title:o,children:h}=e;return(0,i.jsxs)(l.default,{container:!0,sx:{backgroundColor:"primary.light",borderRadius:e=>e.shape.borderRadius/4,p:"30px 25px 20px",marginBottom:"30px",position:"relative",overflow:"hidden"},children:[(0,i.jsxs)(l.default,{mb:1,size:{xs:12,sm:6,lg:8},children:[(0,i.jsx)(n.default,{variant:"h4",children:o}),(0,i.jsx)(n.default,{color:"textSecondary",variant:"h6",fontWeight:400,mt:.8,mb:0,children:t}),(0,i.jsx)(r.A,{separator:(0,i.jsx)(u.A,{size:"5",fill:"textSecondary",fillOpacity:"0.6",style:{margin:"0 5px"}}),sx:{alignItems:"center",mt:a?"10px":""},"aria-label":"breadcrumb",children:a?a.map(e=>(0,i.jsx)("div",{children:e.to?(0,i.jsx)(d(),{href:e.to,passHref:!0,children:(0,i.jsx)(n.default,{color:"textSecondary",children:e.title})}):(0,i.jsx)(n.default,{color:"textPrimary",children:e.title})},e.title)):""})]}),(0,i.jsx)(l.default,{display:"flex",alignItems:"flex-end",size:{xs:12,sm:6,lg:4},children:(0,i.jsx)(s.default,{sx:{position:"absolute",top:16,right:16,display:{xs:"none",md:"block"}},children:(0,i.jsx)(c.default,{src:"/images/logos/img_logo.png",alt:"breadcrumbImg",width:80,height:80,priority:!0,style:{opacity:.9}})})})]})}},89762:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var i=a(95155);a(12115);let l=e=>{let{title:t,description:a,children:l}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)("title",{children:t}),(0,i.jsx)("meta",{name:"description",content:a}),l]})}},94057:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,AuthProvider:()=>r});var i=a(95155),l=a(12115);let n=(0,l.createContext)(null),r=e=>{let{children:t}=e,[a,r]=(0,l.useState)(null),[s,o]=(0,l.useState)([]),[d,u]=(0,l.useState)([]);return(0,i.jsx)(n.Provider,{value:{user:a,menu:s,acces:d,setUser:r,setMenu:o,setAcces:u},children:t})},s=()=>{let e=(0,l.useContext)(n);if(!e)throw Error("useAuth must be used inside AuthProvider");return e}},98730:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var i=a(95155),l=a(41218),n=a(12115),r=a(16324),s=a(19849);let o=e=>{let{children:t,className:a,sx:o}=e,{isCardShadow:d}=(0,n.useContext)(s.z),u=(0,r.A)().palette.grey[200];return(0,i.jsx)(l.A,{sx:{p:0,border:d?"none":"1px solid ".concat(u),position:"relative",sx:o},className:a,elevation:9*!!d,variant:d?void 0:"outlined",children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3307,2452,1923,5992,958,4911,8449,9665,9257,5726,1101,7294,1604,6524,9049,7953,9836,8441,1684,7358],()=>t(5883)),_N_E=e.O()}]);