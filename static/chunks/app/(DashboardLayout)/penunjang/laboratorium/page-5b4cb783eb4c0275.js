(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1261],{12207:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r={activeDir:"ltr",activeMode:"light",activeTheme:"BLUE_THEME",activeLayout:"vertical",isLayout:"full",isSidebarHover:!1,isCollapse:"full-sidebar",isLanguage:"en",isCardShadow:!0,isMobileSidebar:!1,isHorizontal:!1,isBorderRadius:7,sidebarWidth:270,miniSidebarWidth:87,topbarHeight:70}},12793:(e,t,a)=>{Promise.resolve().then(a.bind(a,91851))},14976:(e,t,a)=>{"use strict";a.d(t,{SnackbarProvider:()=>o,d:()=>c});var r=a(95155),n=a(12115),i=a(35726),s=a(9665);let l=(0,n.createContext)(null),o=e=>{let{children:t}=e,[a,o]=(0,n.useState)(!1),[c,u]=(0,n.useState)(""),[d,h]=(0,n.useState)("success");return(0,r.jsxs)(l.Provider,{value:{showSnackbar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";u(e),h(t),o(!0)}},children:[t,(0,r.jsx)(i.A,{open:a,autoHideDuration:5e3,onClose:()=>o(!1),anchorOrigin:{vertical:"top",horizontal:"center"},children:(0,r.jsx)(s.A,{onClose:()=>o(!1),severity:d,variant:"filled",sx:{width:"100%"},children:c})})]})},c=()=>{let e=(0,n.useContext)(l);if(!e)throw Error("useSnackbar harus dipakai di dalam SnackbarProvider");return e}},19849:(e,t,a)=>{"use strict";a.d(t,{CustomizerContextProvider:()=>l,z:()=>s});var r=a(95155),n=a(12115),i=a(12207);let s=(0,n.createContext)(void 0),l=e=>{let{children:t}=e,[a,l]=(0,n.useState)(i.A.activeDir),[o,c]=(0,n.useState)(i.A.activeMode),[u,d]=(0,n.useState)(i.A.activeTheme),[h,f]=(0,n.useState)(i.A.activeLayout),[m,x]=(0,n.useState)(i.A.isCardShadow),[j,g]=(0,n.useState)(i.A.isLayout),[p,v]=(0,n.useState)(i.A.isBorderRadius),[A,S]=(0,n.useState)(i.A.isCollapse),[y,b]=(0,n.useState)(i.A.isLanguage),[$,w]=(0,n.useState)(!1),[D,M]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{document.documentElement.setAttribute("class",o),document.documentElement.setAttribute("dir",a),document.documentElement.setAttribute("data-color-theme",u),document.documentElement.setAttribute("data-layout",h),document.documentElement.setAttribute("data-boxed-layout",j),document.documentElement.setAttribute("data-sidebar-type",A)},[o,a,u,h,j,A]),(0,r.jsx)(s.Provider,{value:{activeDir:a,setActiveDir:l,activeMode:o,setActiveMode:c,activeTheme:u,setActiveTheme:d,activeLayout:h,setActiveLayout:f,isCardShadow:m,setIsCardShadow:x,isLayout:j,setIsLayout:g,isBorderRadius:p,setIsBorderRadius:v,isCollapse:A,setIsCollapse:S,isLanguage:y,setIsLanguage:b,isSidebarHover:$,setIsSidebarHover:w,isMobileSidebar:D,setIsMobileSidebar:M},children:t})}},23639:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var r=a(95155),n=a(70796),i=a(12115);function s(e){let{base64:t,fileName:a="Hasil Radiologi.pdf"}=e,[s,l]=(0,i.useState)("");return((0,i.useEffect)(()=>{if(!t)return;let e=new File([(0,n.i)(t,"application/pdf")],a,{type:"application/pdf"}),r=URL.createObjectURL(e);return l(r),()=>URL.revokeObjectURL(r)},[t,a]),s)?(0,r.jsx)("iframe",{src:s,style:{width:"100%",height:"100%",border:"none"},title:a}):null}},30832:function(e){e.exports=function(){"use strict";var e="millisecond",t="second",a="minute",r="hour",n="week",i="month",s="quarter",l="year",o="date",c="Invalid Date",u=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h=function(e,t,a){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(a)+e},f="en",m={};m[f]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],a=e%100;return"["+e+(t[(a-20)%10]||t[a]||t[0])+"]"}};var x="$isDayjsObject",j=function(e){return e instanceof A||!(!e||!e[x])},g=function e(t,a,r){var n;if(!t)return f;if("string"==typeof t){var i=t.toLowerCase();m[i]&&(n=i),a&&(m[i]=a,n=i);var s=t.split("-");if(!n&&s.length>1)return e(s[0])}else{var l=t.name;m[l]=t,n=l}return!r&&n&&(f=n),n||!r&&f},p=function(e,t){if(j(e))return e.clone();var a="object"==typeof t?t:{};return a.date=e,a.args=arguments,new A(a)},v={s:h,z:function(e){var t=-e.utcOffset(),a=Math.abs(t);return(t<=0?"+":"-")+h(Math.floor(a/60),2,"0")+":"+h(a%60,2,"0")},m:function e(t,a){if(t.date()<a.date())return-e(a,t);var r=12*(a.year()-t.year())+(a.month()-t.month()),n=t.clone().add(r,i),s=a-n<0,l=t.clone().add(r+(s?-1:1),i);return+(-(r+(a-n)/(s?n-l:l-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(c){return({M:i,y:l,w:n,d:"day",D:o,h:r,m:a,s:t,ms:e,Q:s})[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};v.l=g,v.i=j,v.w=function(e,t){return p(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function h(e){this.$L=g(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var f=h.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,a=e.utc;if(null===t)return new Date(NaN);if(v.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(u);if(r){var n=r[2]-1||0,i=(r[7]||"0").substring(0,3);return a?new Date(Date.UTC(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return v},f.isValid=function(){return this.$d.toString()!==c},f.isSame=function(e,t){var a=p(e);return this.startOf(t)<=a&&a<=this.endOf(t)},f.isAfter=function(e,t){return p(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<p(e)},f.$g=function(e,t,a){return v.u(e)?this[t]:this.set(a,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,s){var c=this,u=!!v.u(s)||s,d=v.p(e),h=function(e,t){var a=v.w(c.$u?Date.UTC(c.$y,t,e):new Date(c.$y,t,e),c);return u?a:a.endOf("day")},f=function(e,t){return v.w(c.toDate()[e].apply(c.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),c)},m=this.$W,x=this.$M,j=this.$D,g="set"+(this.$u?"UTC":"");switch(d){case l:return u?h(1,0):h(31,11);case i:return u?h(1,x):h(0,x+1);case n:var p=this.$locale().weekStart||0,A=(m<p?m+7:m)-p;return h(u?j-A:j+(6-A),x);case"day":case o:return f(g+"Hours",0);case r:return f(g+"Minutes",1);case a:return f(g+"Seconds",2);case t:return f(g+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(n,s){var c,u=v.p(n),d="set"+(this.$u?"UTC":""),h=((c={}).day=d+"Date",c[o]=d+"Date",c[i]=d+"Month",c[l]=d+"FullYear",c[r]=d+"Hours",c[a]=d+"Minutes",c[t]=d+"Seconds",c[e]=d+"Milliseconds",c)[u],f="day"===u?this.$D+(s-this.$W):s;if(u===i||u===l){var m=this.clone().set(o,1);m.$d[h](f),m.init(),this.$d=m.set(o,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[v.p(e)]()},f.add=function(e,s){var o,c=this;e=Number(e);var u=v.p(s),d=function(t){var a=p(c);return v.w(a.date(a.date()+Math.round(t*e)),c)};if(u===i)return this.set(i,this.$M+e);if(u===l)return this.set(l,this.$y+e);if("day"===u)return d(1);if(u===n)return d(7);var h=((o={})[a]=6e4,o[r]=36e5,o[t]=1e3,o)[u]||1,f=this.$d.getTime()+e*h;return v.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this,a=this.$locale();if(!this.isValid())return a.invalidDate||c;var r=e||"YYYY-MM-DDTHH:mm:ssZ",n=v.z(this),i=this.$H,s=this.$m,l=this.$M,o=a.weekdays,u=a.months,h=a.meridiem,f=function(e,a,n,i){return e&&(e[a]||e(t,r))||n[a].slice(0,i)},m=function(e){return v.s(i%12||12,e,"0")},x=h||function(e,t,a){var r=e<12?"AM":"PM";return a?r.toLowerCase():r};return r.replace(d,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return v.s(t.$y,4,"0");case"M":return l+1;case"MM":return v.s(l+1,2,"0");case"MMM":return f(a.monthsShort,l,u,3);case"MMMM":return f(u,l);case"D":return t.$D;case"DD":return v.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return f(a.weekdaysMin,t.$W,o,2);case"ddd":return f(a.weekdaysShort,t.$W,o,3);case"dddd":return o[t.$W];case"H":return String(i);case"HH":return v.s(i,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return x(i,s,!0);case"A":return x(i,s,!1);case"m":return String(s);case"mm":return v.s(s,2,"0");case"s":return String(t.$s);case"ss":return v.s(t.$s,2,"0");case"SSS":return v.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")})},f.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},f.diff=function(e,o,c){var u,d=this,h=v.p(o),f=p(e),m=(f.utcOffset()-this.utcOffset())*6e4,x=this-f,j=function(){return v.m(d,f)};switch(h){case l:u=j()/12;break;case i:u=j();break;case s:u=j()/3;break;case n:u=(x-m)/6048e5;break;case"day":u=(x-m)/864e5;break;case r:u=x/36e5;break;case a:u=x/6e4;break;case t:u=x/1e3;break;default:u=x}return c?u:v.a(u)},f.daysInMonth=function(){return this.endOf(i).$D},f.$locale=function(){return m[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var a=this.clone(),r=g(e,t,!0);return r&&(a.$L=r),a},f.clone=function(){return v.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},h}(),S=A.prototype;return p.prototype=S,[["$ms",e],["$s",t],["$m",a],["$H",r],["$W","day"],["$M",i],["$y",l],["$D",o]].forEach(function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),p.extend=function(e,t){return e.$i||(e(t,A,p),e.$i=!0),p},p.locale=g,p.isDayjs=j,p.unix=function(e){return p(1e3*e)},p.en=m[f],p.Ls=m,p.p={},p}()},34864:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(95155),n=a(12115),i=a(3127),s=a(68534),l=a(94057);let o=e=>{let{access:t,onClick:a,children:o,color:c="inherit",size:u="medium",variant:d="contained",type:h="button"}=e,{acces:f}=(0,l.A)(),m=(0,n.useMemo)(()=>!!f&&0!==f.length&&f.some(e=>e.subject===t.subject&&e.action===t.action),[f,t.subject,t.action]);return"icon"===h?(0,r.jsx)(i.A,{onClick:a,disabled:!m,color:c,size:u,children:o}):(0,r.jsx)(s.default,{onClick:a,disabled:!m,color:c,size:u,variant:d,children:o})}},37420:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var r=(0,a(68040).A)("check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]])},45406:(e,t,a)=>{"use strict";a.d(t,{n:()=>r});let r=async e=>{let t=await fetch(e,{credentials:"include"});if(401===t.status){window.location.href="/auth/auth1/login";return}if(403===t.status){window.location.href="/forbidden";return}let a=await t.json();if(!t.ok)throw Error((null==a?void 0:a.message)||"Terjadi kesalahan");return a}},45711:(e,t,a)=>{"use strict";a.d(t,{A:()=>h});var r=a(95155);a(12115);var n=a(72110),i=a(700),s=a(10431),l=a(54581),o=a(6874),c=a.n(o),u=a(76372),d=a(66766);let h=e=>{let{subtitle:t,items:a,title:o,children:h}=e;return(0,r.jsxs)(n.default,{container:!0,sx:{backgroundColor:"primary.light",borderRadius:e=>e.shape.borderRadius/4,p:"30px 25px 20px",marginBottom:"30px",position:"relative",overflow:"hidden"},children:[(0,r.jsxs)(n.default,{mb:1,size:{xs:12,sm:6,lg:8},children:[(0,r.jsx)(i.default,{variant:"h4",children:o}),(0,r.jsx)(i.default,{color:"textSecondary",variant:"h6",fontWeight:400,mt:.8,mb:0,children:t}),(0,r.jsx)(s.A,{separator:(0,r.jsx)(u.A,{size:"5",fill:"textSecondary",fillOpacity:"0.6",style:{margin:"0 5px"}}),sx:{alignItems:"center",mt:a?"10px":""},"aria-label":"breadcrumb",children:a?a.map(e=>(0,r.jsx)("div",{children:e.to?(0,r.jsx)(c(),{href:e.to,passHref:!0,children:(0,r.jsx)(i.default,{color:"textSecondary",children:e.title})}):(0,r.jsx)(i.default,{color:"textPrimary",children:e.title})},e.title)):""})]}),(0,r.jsx)(n.default,{display:"flex",alignItems:"flex-end",size:{xs:12,sm:6,lg:4},children:(0,r.jsx)(l.default,{sx:{position:"absolute",top:16,right:16,display:{xs:"none",md:"block"}},children:(0,r.jsx)(d.default,{src:"/images/logos/img_logo.png",alt:"breadcrumbImg",width:80,height:80,priority:!0,style:{opacity:.9}})})})]})}},47472:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var r=(0,a(68040).A)("x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]])},70796:(e,t,a)=>{"use strict";function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"application/pdf",a=atob(e),r=a.length,n=new Uint8Array(r);for(let e=0;e<r;e++)n[e]=a.charCodeAt(e);return new Blob([n.buffer],{type:t})}a.d(t,{i:()=>r})},76104:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var r=(0,a(68040).A)("device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]])},89762:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(95155);a(12115);let n=e=>{let{title:t,description:a,children:n}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)("title",{children:t}),(0,r.jsx)("meta",{name:"description",content:a}),n]})}},91851:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>G});var r=a(95155),n=a(12115),i=a(45711),s=a(89762),l=a(98730),o=a(16632),c=a(54581),u=a(7068),d=a(78449),h=a(33989),f=a(17976),m=a(56033),x=a(90404),j=a(64263),g=a(99776),p=a(14426),v=a(41101),A=a(12537),S=a(30676),y=a(77696),b=a(26072),$=a(45406),w=a(30832),D=a.n(w),M=a(34864),I=a(36114),k=a(54492),P=a(700),O=a(74964),C=a(99927),N=a(41218),L=a(72110),E=a(68534),T=a(71977),R=a(76104),z=a(37420),H=a(91384),_=a(47472),W=a(23639),Y=a(70796);let U=e=>{let{labDetail:t,onClose:a,onSaveHasil:i}=e,[s,l]=(0,n.useState)(!1),[h,A]=(0,n.useState)({open:!1,base64:""}),[S,y]=(0,n.useState)({Final:!1,Items:[]});(0,n.useEffect)(()=>{var e;(null==t||null==(e=t.Items)?void 0:e.length)&&y({Final:!1,Items:t.Items.flatMap(e=>e.Hasil&&e.Hasil.length>0?e.Hasil.map(t=>{var a,r,n,i;return{Id:t.Id,IdItemOrder:e.Id,NamaPemeriksaan:t.NamaPemeriksaan,Nilai:null!=(a=t.Nilai)?a:"",Satuan:null!=(r=t.Satuan)?r:"",NilaiNormal:null!=(n=t.NilaiNormal)?n:"",Flag:null!=(i=t.Flag)?i:""}}):e.Parameter.map(t=>{var a,r;return{Id:void 0,IdItemOrder:e.Id,IdLab:t.IdLab,NamaPemeriksaan:t.NamaPemeriksaan,Nilai:"",Satuan:null!=(a=t.Satuan)?a:"",NilaiNormal:null!=(r=t.NilaiNormal)?r:"",Flag:""}}))})},[t]);let b=async()=>{l(!0);try{let e=await fetch("/api/penunjang/laboratorium/item/".concat(t.Id,"/print-hasil")),a=await e.json();A({open:!0,base64:a.Base64Data})}finally{l(!1)}};return(0,r.jsxs)(I.A,{open:!0,maxWidth:"lg",fullWidth:!0,scroll:"paper",children:[(0,r.jsx)(k.A,{children:(0,r.jsxs)(c.default,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(c.default,{children:[(0,r.jsx)(P.default,{variant:"h6",fontWeight:700,children:"Detail Order Laboratorium"}),(0,r.jsxs)(P.default,{variant:"body2",color:"text.secondary",children:["No. Registrasi: ",(0,r.jsx)("b",{children:t.NoRegistrasi})]})]}),(0,r.jsx)(v.A,{size:"small",label:t.Status,color:"ORDERED"===t.Status?"warning":"PROSES"===t.Status?"info":"SELESAI"===t.Status?"success":"default"})]})}),(0,r.jsx)(O.A,{}),(0,r.jsxs)(C.A,{children:[(0,r.jsx)(N.A,{variant:"outlined",sx:{mb:3},children:(0,r.jsxs)(o.A,{children:[(0,r.jsx)(P.default,{fontWeight:700,mb:1,children:"Informasi Pasien"}),(0,r.jsxs)(L.default,{container:!0,spacing:2,children:[(0,r.jsxs)(L.default,{size:{xs:12,md:6},children:[(0,r.jsx)(P.default,{variant:"caption",children:"Nama Pasien"}),(0,r.jsx)(P.default,{fontWeight:600,children:t.NamaPasien||"-"})]}),(0,r.jsxs)(L.default,{size:{xs:12,md:3},children:[(0,r.jsx)(P.default,{variant:"caption",children:"No RM / Peserta"}),(0,r.jsx)(P.default,{fontWeight:600,children:t.NoPeserta})]}),(0,r.jsxs)(L.default,{size:{xs:12,md:3},children:[(0,r.jsx)(P.default,{variant:"caption",children:"Tanggal Order"}),(0,r.jsx)(P.default,{fontWeight:600,children:D()(t.TanggalOrder).format("DD-MM-YYYY HH:mm")})]})]})]})}),(0,r.jsx)(N.A,{variant:"outlined",children:(0,r.jsxs)(o.A,{children:[(0,r.jsx)(P.default,{fontWeight:700,mb:2,children:"Hasil Pemeriksaan Laboratorium"}),(0,r.jsxs)(f.A,{size:"small",children:[(0,r.jsx)(m.A,{children:(0,r.jsxs)(x.A,{children:[(0,r.jsx)(j.A,{children:"Pemeriksaan"}),(0,r.jsx)(j.A,{width:160,children:"Nilai"}),(0,r.jsx)(j.A,{children:"Satuan"}),(0,r.jsx)(j.A,{children:"Nilai Normal"}),(0,r.jsx)(j.A,{children:"Flag"})]})}),(0,r.jsx)(g.A,{children:S.Items.map((e,a)=>{var n;return(0,r.jsxs)(x.A,{children:[(0,r.jsx)(j.A,{children:e.NamaPemeriksaan}),(0,r.jsx)(j.A,{children:(0,r.jsx)(d.A,{size:"small",fullWidth:!0,value:null!=(n=e.Nilai)?n:"",disabled:"SELESAI"===t.Status,onChange:e=>{let t=e.target.value;y(e=>{let r=[...e.Items];return r[a]={...r[a],Nilai:t},{...e,Items:r}})}})}),(0,r.jsx)(j.A,{children:e.Satuan||"-"}),(0,r.jsx)(j.A,{children:e.NilaiNormal||"-"}),(0,r.jsx)(j.A,{children:e.Flag||"-"})]},a)})})]}),(0,r.jsxs)(u.default,{direction:"row",justifyContent:"flex-end",spacing:1,mt:3,children:["SELESAI"!==t.Status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.default,{startIcon:(0,r.jsx)(R.A,{size:16}),disabled:s,onClick:async()=>{l(!0),await i(t.Id,{...S,Final:!1}),l(!1)},children:"Simpan Draft"}),(0,r.jsx)(E.default,{variant:"contained",color:"success",startIcon:(0,r.jsx)(z.A,{size:16}),disabled:s,onClick:async()=>{l(!0),await i(t.Id,{...S,Final:!0}),l(!1)},children:"Finalkan"})]}),(0,r.jsx)(E.default,{variant:"outlined",startIcon:s?(0,r.jsx)(p.default,{size:16}):(0,r.jsx)(H.A,{size:16}),onClick:b,children:"Print"})]})]})})]}),(0,r.jsx)(T.A,{children:(0,r.jsx)(E.default,{startIcon:(0,r.jsx)(_.A,{size:16}),onClick:a,children:"Tutup"})}),(0,r.jsxs)(I.A,{open:h.open,onClose:()=>A({open:!1,base64:""}),maxWidth:"lg",fullWidth:!0,children:[(0,r.jsx)(k.A,{children:"Preview Hasil Laboratorium"}),(0,r.jsx)(C.A,{sx:{height:"80vh",p:1},children:(0,r.jsx)(W.A,{base64:h.base64,fileName:"Hasil Lab - ".concat(t.NamaPasien,".pdf")})}),(0,r.jsxs)(T.A,{children:[(0,r.jsx)(E.default,{startIcon:(0,r.jsx)(H.A,{size:16}),onClick:()=>{let e=(0,Y.i)(h.base64),t=URL.createObjectURL(e);window.open(t),setTimeout(()=>URL.revokeObjectURL(t),6e4)},children:"Print"}),(0,r.jsx)(E.default,{onClick:()=>A({open:!1,base64:""}),children:"Tutup"})]})]})]})};var F=a(14976);let B="/api/penunjang/laboratorium",J=()=>{var e,t;let[a,i]=(0,n.useState)(""),[s,l]=(0,n.useState)(1),[o,w]=(0,n.useState)(10),[I,k]=(0,n.useState)(null),[P,O]=(0,n.useState)(!1),{showSnackbar:C}=(0,F.d)(),{data:N,isLoading:L,mutate:E}=(0,b.Ay)("".concat(B,"?page=").concat(s,"&pageSize=").concat(o,"&filter=").concat(a),$.n),T=null!=(e=null==N?void 0:N.Data)?e:[],R=null!=(t=null==N?void 0:N.TotalCount)?t:0,z=async e=>{try{O(!0);let t=await fetch("".concat(B,"/order/").concat(e),{credentials:"include"});if(!t.ok)throw Error("Gagal memuat detail radiologi");let a=await t.json();k(a.Data)}catch(e){var t;C(null!=(t=e.message)?t:"Gagal memuat detail radiologi","error")}finally{O(!1)}};return(0,r.jsxs)(c.default,{children:[(0,r.jsx)(u.default,{direction:"row",spacing:2,mb:3,children:(0,r.jsx)(d.A,{placeholder:"Cari Registrasi",size:"small",value:a,onChange:e=>{i(e.target.value),l(1)},InputProps:{endAdornment:(0,r.jsx)(h.A,{position:"end",children:(0,r.jsx)(S.A,{size:16})})}})}),(0,r.jsxs)(f.A,{size:"small",children:[(0,r.jsx)(m.A,{children:(0,r.jsxs)(x.A,{children:[(0,r.jsx)(j.A,{children:"No Registrasi"}),(0,r.jsx)(j.A,{children:"Tanggal"}),(0,r.jsx)(j.A,{children:"Pelayanan"}),(0,r.jsx)(j.A,{children:"No RM/Peserta"}),(0,r.jsx)(j.A,{children:"Nama Pasien"}),(0,r.jsx)(j.A,{children:"Jumlah Item"}),(0,r.jsx)(j.A,{children:"Status"}),(0,r.jsx)(j.A,{align:"right",children:"Aksi"})]})}),(0,r.jsx)(g.A,{children:L?(0,r.jsx)(x.A,{children:(0,r.jsx)(j.A,{colSpan:7,align:"center",children:(0,r.jsx)(p.default,{size:22})})}):0===T.length?(0,r.jsx)(x.A,{children:(0,r.jsx)(j.A,{colSpan:7,align:"center",children:"Tidak ada data"})}):T.map(e=>(0,r.jsxs)(x.A,{children:[(0,r.jsx)(j.A,{children:e.NoRegistrasi}),(0,r.jsx)(j.A,{children:[e.TanggalOrder?D()(e.TanggalOrder).format("DD-MM-YYYY"):null].filter(Boolean).join(", ")||"-"}),(0,r.jsx)(j.A,{children:e.JenisPelayanan}),(0,r.jsx)(j.A,{children:e.NoPeserta}),(0,r.jsx)(j.A,{children:e.NamaPeserta}),(0,r.jsx)(j.A,{children:e.TotalItem}),(0,r.jsx)(j.A,{children:(0,r.jsx)(v.A,{sx:{bgcolor:"BATAL"===e.Status?e=>e.palette.error.light:"ORDERED"===e.Status?e=>e.palette.warning.light:"PROSES"===e.Status?e=>e.palette.info.light:"SELESAI"===e.Status?e=>e.palette.success.light:e=>e.palette.grey[200],color:"BATAL"===e.Status?e=>e.palette.error.main:"ORDERED"===e.Status?e=>e.palette.warning.main:"PROSES"===e.Status?e=>e.palette.info.main:"SELESAI"===e.Status?e=>e.palette.success.main:e=>e.palette.text.secondary,borderRadius:"8px",fontWeight:600},size:"small",label:e.Status})}),(0,r.jsx)(j.A,{align:"right",children:(0,r.jsx)(M.A,{access:{subject:"RadiologiOrder",action:"GetRadiologiOrder"},type:"icon",color:"success",onClick:()=>z(e.Id),children:P?(0,r.jsx)(p.default,{size:18,color:"inherit"}):(0,r.jsx)(y.A,{width:18})})})]},e.Id))})]}),(0,r.jsx)(A.A,{component:"div",count:R,page:s-1,onPageChange:(e,t)=>l(t+1),rowsPerPage:o,onRowsPerPageChange:e=>{w(parseInt(e.target.value,10)),l(1)}}),I&&(0,r.jsx)(U,{labDetail:I,onClose:()=>k(null),onProcessItem:async e=>{await fetch("".concat(B,"/item/").concat(e,"/process"),{method:"PUT",credentials:"include"}),await Promise.all([z(I.Id),E()])},onFinishItem:async e=>{await fetch("".concat(B,"/item/").concat(e,"/finish"),{method:"PUT",credentials:"include"}),await Promise.all([z(I.Id),E()])},onCancelItem:async e=>{await fetch("".concat(B,"/item/").concat(e,"/cancel"),{method:"PUT",credentials:"include"}),await Promise.all([z(I.Id),E()])},onSaveHasil:async(e,t)=>{await fetch("".concat(B,"/item/").concat(e,"/hasil"),{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),await Promise.all([z(I.Id),E()])}})]})},Z=[{to:"/",title:"Home"},{title:"Daftar Order Laboratorium"}],G=()=>(0,r.jsxs)(s.A,{title:"Daftar Order Laboratorium",description:"ini adalah daftar order laboratorium",children:[(0,r.jsx)(i.A,{title:"Daftar Order Laboratorium",items:Z}),(0,r.jsx)(l.A,{children:(0,r.jsx)(o.A,{children:(0,r.jsx)(J,{})})})]})},94057:(e,t,a)=>{"use strict";a.d(t,{A:()=>l,AuthProvider:()=>s});var r=a(95155),n=a(12115);let i=(0,n.createContext)(null),s=e=>{let{children:t}=e,[a,s]=(0,n.useState)(null),[l,o]=(0,n.useState)([]),[c,u]=(0,n.useState)([]);return(0,r.jsx)(i.Provider,{value:{user:a,menu:l,acces:c,setUser:s,setMenu:o,setAcces:u},children:t})},l=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useAuth must be used inside AuthProvider");return e}},98730:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(95155),n=a(41218),i=a(12115),s=a(16324),l=a(19849);let o=e=>{let{children:t,className:a,sx:o}=e,{isCardShadow:c}=(0,i.useContext)(l.z),u=(0,s.A)().palette.grey[200];return(0,r.jsx)(n.A,{sx:{p:0,border:c?"none":"1px solid ".concat(u),position:"relative",sx:o},className:a,elevation:9*!!c,variant:c?void 0:"outlined",children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3307,2452,1923,5992,958,4911,8449,9665,9257,5726,1101,7294,1604,8678,8441,1684,7358],()=>t(12793)),_N_E=e.O()}]);