(()=>{var e={};e.id=7,e.ids=[7],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11462:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});var i=t(60687),r=t(80986),n=t(43210),s=t(21360),l=t(83897);let o=({children:e,className:a,sx:t})=>{let{isCardShadow:o}=(0,n.useContext)(l.z),d=(0,s.A)().palette.grey[200];return(0,i.jsx)(r.A,{sx:{p:0,border:o?"none":`1px solid ${d}`,position:"relative",sx:t},className:a,elevation:9*!!o,variant:o?void 0:"outlined",children:e})}},14450:(e,a,t)=>{"use strict";t.d(a,{A:()=>u});var i=t(60687),r=t(43210),n=t.n(r),s=t(13555),l=t(72318);let o=(0,s.Ay)("span")(({theme:e})=>({borderRadius:3,width:19,height:19,marginLeft:"4px",boxShadow:"dark"===e.palette.mode?`0 0 0 1px ${e.palette.grey[200]}`:`inset 0 0 0 1px ${e.palette.grey[300]}`,backgroundColor:"transparent",".Mui-focusVisible &":{outline:"dark"===e.palette.mode?`0px auto ${e.palette.grey[200]}`:`0px auto  ${e.palette.grey[300]}`,outlineOffset:2},"input:hover ~ &":{backgroundColor:(e.palette.mode,e.palette.primary)},"input:disabled ~ &":{boxShadow:"none",background:e.palette.grey[100]}})),d=(0,s.Ay)(o)({boxShadow:"none",width:19,height:19,"&:before":{display:"block",width:19,height:19,backgroundImage:"url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\")",content:'""'}}),c=n().forwardRef((e,a)=>(0,i.jsx)(l.A,{disableRipple:!0,color:e.color||"default",checkedIcon:(0,i.jsx)(d,{sx:{backgroundColor:e.color?`${e.color}.main`:"primary.main"}}),icon:(0,i.jsx)(o,{}),inputProps:{"aria-label":"Checkbox demo"},ref:a,...e}));c.displayName="CustomCheckbox";let u=c},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32477:(e,a,t)=>{Promise.resolve().then(t.bind(t,62867))},32851:(e,a,t)=>{"use strict";t.d(a,{A:()=>h});var i=t(60687);t(43210);var r=t(49205),n=t(87088),s=t(68887),l=t(88931),o=t(85814),d=t.n(o),c=t(6860),u=t(30474);let h=({subtitle:e,items:a,title:t,children:o})=>(0,i.jsxs)(r.default,{container:!0,sx:{backgroundColor:"primary.light",borderRadius:e=>e.shape.borderRadius/4,p:"30px 25px 20px",marginBottom:"30px",position:"relative",overflow:"hidden"},children:[(0,i.jsxs)(r.default,{mb:1,size:{xs:12,sm:6,lg:8},children:[(0,i.jsx)(n.default,{variant:"h4",children:t}),(0,i.jsx)(n.default,{color:"textSecondary",variant:"h6",fontWeight:400,mt:.8,mb:0,children:e}),(0,i.jsx)(s.A,{separator:(0,i.jsx)(c.A,{size:"5",fill:"textSecondary",fillOpacity:"0.6",style:{margin:"0 5px"}}),sx:{alignItems:"center",mt:a?"10px":""},"aria-label":"breadcrumb",children:a?a.map(e=>(0,i.jsx)("div",{children:e.to?(0,i.jsx)(d(),{href:e.to,passHref:!0,children:(0,i.jsx)(n.default,{color:"textSecondary",children:e.title})}):(0,i.jsx)(n.default,{color:"textPrimary",children:e.title})},e.title)):""})]}),(0,i.jsx)(r.default,{display:"flex",alignItems:"flex-end",size:{xs:12,sm:6,lg:4},children:(0,i.jsx)(l.default,{sx:{position:"absolute",top:16,right:16,display:{xs:"none",md:"block"}},children:(0,i.jsx)(u.default,{src:"/images/logos/img_logo.png",alt:"breadcrumbImg",width:80,height:80,priority:!0,style:{opacity:.9}})})})]})},33873:e=>{"use strict";e.exports=require("path")},39284:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});var i=t(60687),r=t(43210),n=t(83685),s=t(16184),l=t(25381);let o=({access:e,onClick:a,children:t,color:o="inherit",size:d="medium",variant:c="contained",type:u="button"})=>{let{acces:h}=(0,l.A)(),p=(0,r.useMemo)(()=>!!h&&0!==h.length&&h.some(a=>a.subject===e.subject&&a.action===e.action),[h,e.subject,e.action]);return"icon"===u?(0,i.jsx)(n.A,{onClick:a,disabled:!p,color:o,size:d,children:t}):(0,i.jsx)(s.default,{onClick:a,disabled:!p,color:o,size:d,variant:c,children:t})}},51876:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});var i=t(60687);t(43210);let r=({title:e,description:a,children:t})=>(0,i.jsxs)("div",{children:[(0,i.jsx)("title",{children:e}),(0,i.jsx)("meta",{name:"description",content:a}),t]})},60093:(e,a,t)=>{Promise.resolve().then(t.bind(t,82272))},62867:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>i});let i=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Projeck\\\\Simklinik_React\\\\FrontEndklinik\\\\src\\\\app\\\\(DashboardLayout)\\\\konfigurasi\\\\akun\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Projeck\\Simklinik_React\\FrontEndklinik\\src\\app\\(DashboardLayout)\\konfigurasi\\akun\\page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72240:(e,a,t)=>{"use strict";t.d(a,{n:()=>i});let i=async e=>{let a=await fetch(e,{credentials:"include"});if(401===a.status){window.location.href="/auth/auth1/login";return}if(403===a.status){window.location.href="/forbidden";return}let t=await a.json();if(!a.ok)throw Error(t?.message||"Terjadi kesalahan");return t}},82272:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>K});var i=t(60687),r=t(43210),n=t(32851),s=t(51876),l=t(11462),o=t(86862),d=t(5077),c=t(72240);let u=(0,r.createContext)({}),h=({children:e})=>{let{data:a,error:t,mutate:r}=(0,d.Ay)("/api/combo?type=GroupRole",c.n);return(0,i.jsx)(u.Provider,{value:{groups:a??[],loading:!a&&!t,error:t,fetchGroups:()=>r()},children:e})};var p=t(88931),x=t(6984),m=t(16393),g=t(51711),k=t(86562),j=t(30076),f=t(76897),A=t(72132),b=t(91433),v=t(66803),y=t(76533),P=t(70488),w=t(12362),C=t(24296),S=t(90764),E=t(27674),z=t(16184),N=t(77164),D=t(16256),_=t(80624),I=t(14450),G=t(39284),R=t(15572),F=t(57642),L=t(13555),T=t(97887),$=t(49205),U=t(2196),O=t(57979),q=t(47651);let W=(0,L.Ay)(e=>(0,i.jsx)(m.A,{...e}))(({theme:e})=>({"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:e.palette.text.secondary,opacity:"0.8"}})),M=({akunToEdit:e,onClose:a,onSubmit:t})=>{let{groups:n,loading:s}=(0,r.useContext)(u),[l,o]=(0,r.useState)(!1),[d,c]=(0,r.useState)({Id:"",UserName:"",Email:"",FullName:"",Photo:"",PhoneNumber:"",Peran:"",Group:[],Active:!1});(0,r.useEffect)(()=>{e?c({...e}):c({Id:"",UserName:"",Email:"",FullName:"",Photo:"",PhoneNumber:"",Peran:"",Group:[],Active:!1})},[e]);let h=async e=>{e.preventDefault();try{o(!0),await t(d),a()}finally{o(!1)}};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(w.A,{open:!!e,onClose:a,maxWidth:"sm","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,i.jsx)(C.A,{id:"alert-dialog-title",variant:"h5",children:d.Id?"Edit Akun":"Tambah Akun Baru"}),(0,i.jsxs)(S.A,{children:[(0,i.jsx)(T.A,{id:"alert-dialog-description",children:d.Id?'Silakan ubah data akun sesuai kebutuhan, kemudian klik tombol "Simpan".':'Silakan isi semua kolom untuk menambahkan akun baru ke aplikasi Anda, kemudian klik tombol "Simpan".'}),(0,i.jsx)(p.default,{mt:3,children:(0,i.jsx)("form",{onSubmit:h,children:(0,i.jsxs)($.default,{spacing:3,container:!0,children:[(0,i.jsxs)($.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(U.A,{children:"Nama Lengkap"}),(0,i.jsx)(m.A,{id:"FullName",size:"small",variant:"outlined",fullWidth:!0,value:d.FullName||"",onChange:e=>c({...d,FullName:e.target.value})})]}),(0,i.jsxs)($.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(U.A,{children:"Username"}),(0,i.jsx)(m.A,{id:"UserName",size:"small",variant:"outlined",fullWidth:!0,value:d.UserName||"",onChange:e=>c({...d,UserName:e.target.value})})]}),(0,i.jsxs)($.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(U.A,{children:"Email"}),(0,i.jsx)(m.A,{id:"Email",size:"small",variant:"outlined",fullWidth:!0,value:d.Email||"",onChange:e=>c({...d,Email:e.target.value})})]}),(0,i.jsxs)($.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(U.A,{children:"PhoneNumber"}),(0,i.jsx)(m.A,{id:"PhoneNumber",size:"small",variant:"outlined",fullWidth:!0,value:d.PhoneNumber||"",onChange:e=>c({...d,PhoneNumber:e.target.value})})]}),(0,i.jsxs)($.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(U.A,{children:"Peran"}),(0,i.jsx)(m.A,{id:"Peran",size:"small",variant:"outlined",fullWidth:!0,value:d.Peran||"",onChange:e=>c({...d,Peran:e.target.value})})]}),(0,i.jsxs)($.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(U.A,{children:"Group"}),(0,i.jsx)(F.A,{multiple:!0,disablePortal:!0,id:"Group",size:"small",options:n||[],fullWidth:!0,loading:s,getOptionLabel:e=>e.title,isOptionEqualToValue:(e,a)=>e.value===a.value,value:(n||[]).filter(e=>(d.Group??[]).includes(e.value)),onChange:(e,a)=>{c({...d,Group:a.map(e=>e.value)})},renderInput:e=>(0,i.jsx)(W,{...e,placeholder:"Pilih Group","aria-label":"Pilih Group"})})]}),(0,i.jsxs)($.default,{size:{xs:12,lg:6},children:[(0,i.jsx)(U.A,{children:"Active"}),(0,i.jsxs)(O.A,{id:"Active",size:"small",fullWidth:!0,value:d.Active?"true":"false",onChange:e=>c({...d,Active:"true"===e.target.value}),children:[(0,i.jsx)(q.A,{value:"",children:"Pilih salah satu"}),(0,i.jsx)(q.A,{value:"true",children:"Aktif"}),(0,i.jsx)(q.A,{value:"false",children:"Non Aktif"})]})]}),(0,i.jsx)($.default,{size:{xs:12,lg:12},children:(0,i.jsxs)(p.default,{display:"flex",justifyContent:"flex-end",children:[(0,i.jsx)(z.default,{sx:{mr:1},variant:"contained",color:"error",onClick:a,disabled:l,children:"Batal"}),(0,i.jsx)(z.default,{variant:"contained",color:"primary",type:"submit",disabled:l||!d.FullName||!d.UserName||!d.Email,children:l?(0,i.jsx)(v.default,{size:20,color:"inherit"}):"Simpan"})]})})]})})})]})]})})},B="/api/konfigurasi/akun",H=()=>{let[e,a]=(0,r.useState)(""),[t,n]=(0,r.useState)(1),[s,l]=(0,r.useState)(10),[o,u]=(0,r.useState)([]),[h,F]=(0,r.useState)(!1),[L,T]=(0,r.useState)(!1),[$,U]=(0,r.useState)(null),{showSnackbar:O}=(0,R.d)(),{data:q,error:W,mutate:H,isLoading:J}=(0,d.Ay)(`${B}?filter=${encodeURIComponent(e)}&page=${t}&pageSize=${s}`,c.n),K=q?.Data??[],V=q?.TotalCount??0,X=J&&!q;(0,r.useEffect)(()=>{0!==K.length&&F(o.length===K.length)},[o,K]);let Y=e=>{u(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},Q=async()=>{try{for(let e of o){let a=await fetch(`${B}/${e}`,{method:"DELETE",credentials:"include"});if(!a.ok){let e=await a.json();throw Error(e?.message||"Gagal menghapus akun")}}O("Akun berhasil dihapus","success"),u([]),F(!1),T(!1),H()}catch(e){O(e.message||"Gagal menghapus akun","error")}},Z=async e=>{try{let a=await fetch(B,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),t=await a.json();if(!a.ok)throw Error(t?.message||"Gagal menambahkan akun");await H(),setTimeout(()=>{O("Akun berhasil ditambahkan","success")},0)}catch(e){O(e.message||"Gagal menambahkan akun","error")}},ee=async e=>{try{let a=await fetch(`${B}/${e.Id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),t=await a.json();if(!a.ok)throw Error(t?.message||"Gagal memperbarui akun");setTimeout(()=>{O("Akun berhasil diperbarui","success")},0)}catch(e){O(e.message||"Gagal memperbarui akun","error")}};return(0,i.jsxs)(p.default,{children:[(0,i.jsxs)(x.default,{direction:{xs:"column",sm:"row"},spacing:2,mb:3,justifyContent:"space-between",children:[(0,i.jsx)(m.A,{placeholder:"Search akun",size:"small",value:e,onChange:e=>{a(e.target.value),n(1)},InputProps:{endAdornment:(0,i.jsx)(g.A,{position:"end",children:(0,i.jsx)(N.A,{size:16})})}}),(0,i.jsxs)(x.default,{direction:"row",spacing:1,children:[o.length>0&&(0,i.jsx)(G.A,{access:{subject:"Akun",action:"DeleteAkun"},color:"error",variant:"outlined",onClick:()=>T(!0),children:"Hapus Yang Dipilih"}),$&&(0,i.jsx)(M,{akunToEdit:$,onClose:()=>U(null),onSubmit:async e=>{e.Id?await ee(e):await Z(e),H()}}),(0,i.jsx)(G.A,{access:{subject:"Akun",action:"PostAkun"},color:"primary",variant:"contained",onClick:()=>U({}),children:"Tambah Akun"})]})]}),(0,i.jsx)(p.default,{sx:{overflowX:"auto"},children:(0,i.jsxs)(k.A,{size:"small",children:[(0,i.jsx)(j.A,{children:(0,i.jsxs)(f.A,{children:[(0,i.jsx)(A.A,{padding:"checkbox",children:(0,i.jsx)(I.A,{checked:h,onChange:()=>{let e=!h;F(e),u(e?K.map(e=>e.Id):[])}})}),(0,i.jsx)(A.A,{children:"Nama Lengkap"}),(0,i.jsx)(A.A,{children:"Username"}),(0,i.jsx)(A.A,{children:"Group"}),(0,i.jsx)(A.A,{children:"Email"}),(0,i.jsx)(A.A,{children:"Status"}),(0,i.jsx)(A.A,{align:"right",children:"Actions"})]})}),(0,i.jsx)(b.A,{children:X?(0,i.jsx)(f.A,{children:(0,i.jsx)(A.A,{colSpan:7,align:"center",children:(0,i.jsx)(v.default,{size:24})})}):0===K.length?(0,i.jsx)(f.A,{children:(0,i.jsx)(A.A,{colSpan:7,align:"center",children:"No data found"})}):K.map(e=>(0,i.jsxs)(f.A,{children:[(0,i.jsx)(A.A,{padding:"checkbox",children:(0,i.jsx)(I.A,{checked:o.includes(e.Id),onChange:()=>Y(e.Id)})}),(0,i.jsx)(A.A,{children:e.FullName}),(0,i.jsx)(A.A,{children:e.UserName}),(0,i.jsx)(A.A,{children:e.Group?.map((e,a)=>(0,i.jsx)(y.A,{label:e,size:"small",sx:{mr:.5}},a))}),(0,i.jsx)(A.A,{children:e.Email}),(0,i.jsx)(A.A,{children:(0,i.jsx)(y.A,{label:e.Active?"Aktif":"Non Aktif",color:e.Active?"success":"warning",size:"small"})}),(0,i.jsxs)(A.A,{align:"right",children:[(0,i.jsx)(G.A,{access:{subject:"Akun",action:"PutAkun"},color:"success",type:"icon",onClick:()=>U(e),children:(0,i.jsx)(D.A,{width:18})}),(0,i.jsx)(G.A,{access:{subject:"Akun",action:"DeleteAkun"},color:"error",type:"icon",onClick:()=>{u([e.Id]),T(!0)},children:(0,i.jsx)(_.A,{width:18})})]})]},e.Id))})]})}),(0,i.jsx)(P.A,{component:"div",count:V,page:t-1,onPageChange:(e,a)=>n(a+1),rowsPerPage:s,onRowsPerPageChange:e=>{l(parseInt(e.target.value,10)),n(1)},rowsPerPageOptions:[5,10,25],size:"small"}),(0,i.jsxs)(w.A,{open:L,onClose:()=>T(!1),children:[(0,i.jsx)(C.A,{children:"Konfirmasi Hapus"}),(0,i.jsx)(S.A,{children:"Apakah Anda yakin ingin menghapus data yang dipilih?"}),(0,i.jsxs)(E.A,{children:[(0,i.jsx)(z.default,{onClick:()=>T(!1),children:"Batal"}),(0,i.jsx)(z.default,{color:"error",onClick:Q,children:"Hapus"})]})]})]})},J=[{to:"/",title:"Home"},{title:"Daftar Akun"}],K=()=>(0,i.jsx)(h,{children:(0,i.jsxs)(s.A,{title:"Daftar Akun",description:"this is Invoice List",children:[(0,i.jsx)(n.A,{title:"Daftar Akun",items:J}),(0,i.jsx)(l.A,{children:(0,i.jsx)(o.A,{children:(0,i.jsx)(H,{})})})]})})},86223:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>s.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var i=t(65239),r=t(48088),n=t(88170),s=t.n(n),l=t(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(a,o);let d={children:["",{children:["(DashboardLayout)",{children:["konfigurasi",{children:["akun",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,62867)),"D:\\Projeck\\Simklinik_React\\FrontEndklinik\\src\\app\\(DashboardLayout)\\konfigurasi\\akun\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,64341)),"D:\\Projeck\\Simklinik_React\\FrontEndklinik\\src\\app\\(DashboardLayout)\\layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,98403)),"D:\\Projeck\\Simklinik_React\\FrontEndklinik\\src\\app\\(DashboardLayout)\\loading.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"D:\\Projeck\\Simklinik_React\\FrontEndklinik\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,67393)),"D:\\Projeck\\Simklinik_React\\FrontEndklinik\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,54413)),"D:\\Projeck\\Simklinik_React\\FrontEndklinik\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\Projeck\\Simklinik_React\\FrontEndklinik\\src\\app\\(DashboardLayout)\\konfigurasi\\akun\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},h=new i.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/(DashboardLayout)/konfigurasi/akun/page",pathname:"/konfigurasi/akun",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),i=a.X(0,[4447,6354,5019,554,3574,8166,9729,2318,7642,3552,3575,1615],()=>t(86223));module.exports=i})();